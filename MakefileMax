# Location of where hello.c is stored in
SRCDIR=./src

INCDIR=./include

# Name of the compiler, GNU GCC in this case
CC=gcc

# Any include directories
INCLUDE = /opt/homebrew/include -I$(INCDIR)

# Any flags for the compiler
CFLAGS = -g -I$(INCLUDE) -c
#CFLAGS = -g -c

# Any libraries to link with
LIBS = /opt/homebrew/lib

# Extra flags to give to compilers when they are supposed to invoke the linker
#LDFLAGS = -lmingw32 -lSDL2main -lSDL2 -mwindows
LDFLAGS = -lSDL2main -lSDL2_image -lSDL2

snomos: main.o character.o snowball.o map.o
	@echo "Building Snomos"
	$(CC) -o snomos main.o character.o snowball.o map.o $(LDFLAGS) -L $(LIBS)

main.o: $(SRCDIR)/main.c $(INCDIR)/character.h $(INCDIR)/snowball.h $(INCDIR)/map.h
	$(CC) $(CFLAGS) $(SRCDIR)/main.c 

character.o: $(SRCDIR)/character.c $(INCDIR)/character.h
	$(CC) $(CFLAGS) $(SRCDIR)/character.c 

snowball.o: $(SRCDIR)/snowball.c $(INCDIR)/snowball.h
	$(CC) $(CFLAGS) $(SRCDIR)/snowball.c 

map.o: $(SRCDIR)/map.c $(INCDIR)/map.h
	$(CC) $(CFLAGS) $(SRCDIR)/map.c
	
clean:
	rm -f *.o
	rm -f snomos